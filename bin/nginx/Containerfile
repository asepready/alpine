# Use a Alpine Linux base image
FROM docker.io/library/alpine:3.16
LABEL Maintainer="Asep Ready <asepready@gmail.com>" 
LABEL Description="NGINX container based on Alpine Linux"

# Install Nginx
RUN apk add --update nginx && \
  rm -rf /var/cache/apk/*

# Menyalin file konfigurasi kustom ke dalam container
COPY nginx.conf /etc/nginx/
COPY http.d /etc/nginx/

# Menyalin sertifikat SSL
COPY ssl /etc/nginx/

# Menyalin file statis (HTML) ke direktori root Nginx
COPY html /var/www/

# Ekspos port 80 (HTTP) dan 443 (HTTPS)
EXPOSE 80
EXPOSE 443

CMD ["nginx", "-g", "daemon off;"]
