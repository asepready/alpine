# Use a Alpine Linux base image
FROM docker.io/library/alpine:3.16
LABEL Maintainer="Asep Ready <asepready@gmail.com>" 
LABEL Description="NGINX container based on Alpine Linux"

# Install Nginx
RUN apk add --update nginx && \
  rm -rf /var/cache/apk/*

# Copy custom Nginx configuration
#COPY nginx.conf /etc/nginx/nginx.conf

# Copy SSL certificates (if needed)
COPY server.crt /etc/ssl/certs/server.crt
COPY server.key /etc/ssl/private/server.key

# Set permissions
RUN chown -R nginx:nginx /usr/share/nginx/html && \
    chmod -R 755 /usr/share/nginx/html

# Expose ports
EXPOSE 80
EXPOSE 443

CMD ["nginx", "-g", "daemon off;"]
